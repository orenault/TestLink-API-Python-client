TestLink-API-Python-client Installation
=======================================

.. contents::
   :local:

Preconditions
-------------

Currently the combinations Python 2.7.13/3.4.4/3.5.3/3.6.1 are tested with 
TestLink 1.9.16. Other combination might work - feedback is welcome :-) 

TestLink configuration
----------------------

The TestLink configuration (config.inc.php or custom_config.inc.php) must have 
enabled the api interface::

 $tlCfg->api->enabled = TRUE;
   
Create the user specific devKey inside TestLink, see

- My Settings -> API interface - Personal API access key [Generate a new key]

Installing from PyPI
--------------------

TestLink-API-Python-client is available in the Python Package Index (PyPI_) 
since Release v0.4.6. It is recommended that you use `pip`_ to install. 

Install from PyPI using pip by running::

 pip install TestLink-API-Python-client

Installing from source distribution
-----------------------------------

The source code can be retrieved as source distribution either 

- as stable release from SourceForge_
- or as development version from `GitHup Releases`_

Install the archives using pip by running::

 pip install TestLink-API-Python-client-0.6.3.zip
    
Installing from source
----------------------    
    
Install the extracted source distribution or download of the last (none tested) 
changes from `GitHup Master`_ by running::

 python setup.py install
    
Verifying Installation
----------------------

Check, if Python could talk with TestLink using the connection parameter

- SERVER_URL = http://[YOURSERVER]/testlink/lib/api/xmlrpc/v1/xmlrpc.php
- DEVKEY     = [Users devKey generated by TestLink]

as init parameter::

    python
    >>> import testlink
    >>> tls = testlink.TestlinkAPIClient(SERVER_URL, DEVKEY)
    >>> tls.about()
    ' Testlink API Version: 1.0 initially ....'

or by defining the connection parameter as environment variables::

    set TESTLINK_API_PYTHON_SERVER_URL=http://[YOURSERVER]/testlink/lib/api/xmlrpc/v1/xmlrpc.php
    set TESTLINK_API_PYTHON_DEVKEY=[Users devKey generated by TestLink]
    python
    >>> import testlink
    >>> tls = testlink.TestLinkHelper(testlink.TestlinkAPIClient)
    >>> tls.about()
    ' Testlink API Version: 1.0 initially ....'

Changed SERVER_URL with TestLink 1.9.7
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The SERVER_URL path has changed with TestLink 1.9.7.

- TL Version < 1.9.7: Use http://[YOURSERVER]/testlink/lib/api/xmlrpc.php
- TL Version >=1.9.7: Use http://[YOURSERVER]/testlink/lib/api/xmlrpc/v1/xmlrpc.php

Install in virtualenv TestLink
------------------------------

Cause most linux system (and although newer windows systems too) expect root 
privileges for installation, a separate TestLink virtualenv_ may help::

 [PYTHON27]\Scripts\virtualenv [PYENV]\testlink
 [PYENV]\testlink\Scripts\activate
 pip install TestLink-API-Python-client

If you always work with the same TestLink server, extend the script

- [PYENV]/testlink/Scripts/activate[.bat|.ps1]

with connection parameter as environment variables  

- TESTLINK_API_PYTHON_SERVER_URL and TESTLINK_API_PYTHON_DEVKEY 

Known Installation Problems
---------------------------

If the installation for the combination **linux + py26** fails, maybe the workaround from  `issue 50`_ helps.



.. _PyPI: https://pypi.python.org/pypi
.. _pip: http://www.pip-installer.org    
.. _SourceForge: http://sourceforge.net/projects/testlink-api-python-client/files/latest/download
.. _GitHup Releases: https://github.com/lczub/TestLink-API-Python-client/releases
.. _GitHup Master: https://github.com/lczub/TestLink-API-Python-client/archive/master.zip
.. _virtualenv: http://www.virtualenv.org/en/latest/virtualenv.html
.. _issue 50: https://github.com/lczub/TestLink-API-Python-client/issues/50
